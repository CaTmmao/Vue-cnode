{"version":3,"sources":["webpack:///./src/views/messages/messages.vue?b302","webpack:///./src/components/msg/msg.vue?cfff","webpack:///src/components/msg/msg.vue","webpack:///./src/components/msg/msg.vue?f040","webpack:///./src/components/msg/msg.vue","webpack:///src/views/messages/messages.vue","webpack:///./src/views/messages/messages.vue?ab1a","webpack:///./src/views/messages/messages.vue","webpack:///./src/components/msg/msg.vue?0e25","webpack:///./src/views/messages/messages.vue?feb1"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","to","_v","readMessages","message","hasnot_read_messages","loading","has_read_messages","staticRenderFns","msgvue_type_template_id_ef8d1076_scoped_true_render","directives","name","rawName","value","expression","length","_l","item","index","key","id","type","author","_s","loginname","topic","title","_e","msgvue_type_template_id_ef8d1076_scoped_true_staticRenderFns","msgvue_type_script_lang_js_","props","Boolean","default","Array","msg_msgvue_type_script_lang_js_","component","Object","componentNormalizer","msg","messagesvue_type_script_lang_js_","data","components","Msg","created","fetchMessages","methods","_this","$axios","get","api","then","res","post","messageMarkAll","messages_messagesvue_type_script_lang_js_","messages_component","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_msg_vue_vue_type_style_index_0_id_ef8d1076_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_msg_vue_vue_type_style_index_0_id_ef8d1076_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_messages_vue_vue_type_style_index_0_id_137da0d2_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_messages_vue_vue_type_style_index_0_id_137da0d2_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-3be26e44.f47043e6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"index-section\"},[_c('div',{staticClass:\"messages\"},[_c('div',{staticClass:\"new-msg\"},[_c('div',{staticClass:\"top\"},[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"主页\")]),_c('em',[_vm._v(\" / \")]),_c('span',[_vm._v(\"新消息\")])],1),_c('Msg',{attrs:{\"readMessages\":_vm.message.hasnot_read_messages,\"loading\":_vm.loading}})],1),_c('div',{staticClass:\"past-times\"},[_c('div',{staticClass:\"top\"},[_vm._v(\"已读消息\")]),_c('Msg',{attrs:{\"readMessages\":_vm.message.has_read_messages,\"loading\":_vm.loading}})],1)]),_c('Sidebar')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"msg-list\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"msg-loading\"}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.readMessages.length === 0),expression:\"readMessages.length === 0\"}]},[_vm._v(\"暂无消息\")]),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.readMessages.length > 0),expression:\"readMessages.length > 0\"}]},_vm._l((_vm.readMessages),function(item,index){return _c('li',{key:item.id},[(item.type === 'reply')?_c('div',[_c('router-link',{attrs:{\"to\":(\"/user/\" + (item.author.loginname))}},[_vm._v(_vm._s(item.author.loginname))]),_c('span',[_vm._v(\" 回复了你的话题\")]),_c('router-link',{attrs:{\"to\":(\"/topic/\" + (item.topic.id))}},[_vm._v(_vm._s(item.topic.title))])],1):(item.type === 'at')?_c('div',[_c('router-link',{attrs:{\"to\":(\"/user/\" + (item.author.loginname))}},[_vm._v(_vm._s(item.author.loginname))]),_c('span',[_vm._v(\" 在话题\")]),_c('router-link',{attrs:{\"to\":(\"/topic/\" + (item.topic.id))}},[_vm._v(_vm._s(item.topic.title))]),_c('span',[_vm._v(\" 中@了你\")])],1):_vm._e()])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--消息列表组件 被添加在message页面中的【新消息】和【已读消息】部分-->\n<template>\n    <div class=\"msg-list\">\n        <!--获取到未读消息数据前显示loading效果 默认为true-->\n        <div class=\"msg-loading\" v-show=\"loading\"></div>\n\n        <!--下面两个标签两个只显示其中一个 -->\n        <!--无内容时显示-->\n        <div v-show=\"readMessages.length === 0\">暂无消息</div>\n        <!--有内容时显示-->\n        <ul v-show=\"readMessages.length > 0\">\n            <li v-for=\"(item, index) of readMessages\" :key=\"item.id\">\n                <div v-if=\"item.type === 'reply'\">\n                    <router-link :to=\"`/user/${item.author.loginname}`\">{{item.author.loginname}}</router-link>\n                    <span> 回复了你的话题</span>\n                    <router-link :to=\"`/topic/${item.topic.id}`\">{{item.topic.title}}</router-link>\n                </div>\n                <div v-else-if=\"item.type === 'at'\">\n                    <router-link :to=\"`/user/${item.author.loginname}`\">{{item.author.loginname}}</router-link>\n                    <span> 在话题</span>\n                    <router-link :to=\"`/topic/${item.topic.id}`\">{{item.topic.title}}</router-link>\n                    <span> 中@了你</span>\n                </div>\n            </li>\n        </ul>\n    </div>\n</template>\n\n<script>\n    export default {\n        //给该组件起的名字会显示在vue的devtool中\n        name: 'msg',\n        props: {\n            loading: {\n                type: Boolean,\n                default: true\n            },\n            readMessages: {\n                type: Array,\n                default() {\n                    return []\n                }\n            }\n        }\n    }\n</script>\n\n<style scoped lang=\"scss\">\n    @import '@/assets/scss/variable.scss';\n    .msg-list {\n        position: relative;\n        background: #fff;\n        padding: 10px;\n\n        .msg-loading {\n            position: absolute;\n            top: 10px;\n            left: 10px;\n            right: 10px;\n            height: 20px;\n            background: #f7f7f7;\n        }\n\n        li {\n            padding: 10px 0;\n\n            &:not(:nth-last-child(1)) {\n                border-bottom: 1px solid #f6f6f6;\n            }\n\n            > div {\n                overflow: hidden;\n                white-space: nowrap;\n                text-overflow: ellipsis;\n            }\n\n            a {\n                color: $themeColor;\n            }\n\n            span {\n                margin: 0 4px;\n            }\n        }\n    }\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./msg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./msg.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./msg.vue?vue&type=template&id=ef8d1076&scoped=true&\"\nimport script from \"./msg.vue?vue&type=script&lang=js&\"\nexport * from \"./msg.vue?vue&type=script&lang=js&\"\nimport style0 from \"./msg.vue?vue&type=style&index=0&id=ef8d1076&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ef8d1076\",\n  null\n  \n)\n\nexport default component.exports","<!--未读消息页面-->\n<template>\n    <section class=\"index-section\">\n        <div class=\"messages\">\n            <!--未读消息-->\n            <div class=\"new-msg\">\n                <div class=\"top\">\n                    <router-link to=\"/\">主页</router-link>\n                    <em> / </em>\n                    <span>新消息</span>\n                </div>\n                <Msg :readMessages=\"message.hasnot_read_messages\" :loading=\"loading\"/>\n            </div>\n            <!--已读消息-->\n            <div class=\"past-times\">\n                <div class=\"top\">已读消息</div>\n                <Msg :readMessages=\"message.has_read_messages\" :loading=\"loading\"/>\n            </div>\n        </div>\n        <Sidebar></Sidebar>\n    </section>\n</template>\n\n<script>\n    // 引入api配置文件\n    import API_CONFIG from '@/api/index.js'\n    import Msg from '@/components/msg/msg'\n\n    export default {\n        //给该组件起的名字会显示在vue的devtool中\n        name: 'messages',\n        /* vue实例被创建（created声明周期）时， data对象里所有的属性会被添加到响应式系统里，\n        (也就是说后续在data中额外添加的属性就不是响应式的，所以想让数据是响应式的，\n        必须在vue实例created前就写在data中)\n        当这些属性的值发生改变时，视图会产生'响应'，更新为新的值 */\n        data() {\n            return {\n                loading: true,\n                // 消息列表\n                message: {\n                    // 已读消息\n                    has_read_messages: [],\n                    // 未读消息\n                    hasnot_read_messages: []\n                }\n            }\n        },\n        components: {Msg},\n        created() {\n            //获取消息列表\n            this.fetchMessages()\n        },\n        methods: {\n            fetchMessages() {\n                this.$axios.get(API_CONFIG.fetchMessages)\n                    .then(res => {\n                        this.loading = false\n                        this.message = res.data.data\n                        this.$axios.post(API_CONFIG.messageMarkAll) //标记全部为已读\n                    })\n\n            }\n        }\n    }\n</script>\n\n<style scoped lang=\"scss\">\n    /*引入scss变量文件*/\n    @import '@/assets/scss/variable.scss';\n\n    .index-section {\n        display: flex;\n        justify-content: center;\n    .messages {\n        width: $singleWidth;\n\n        @media screen and(max-width: 992px) {\n            & {\n                width: 100%;\n            }\n        }\n\n        .new-msg {\n            box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n        }\n\n        .top {\n            font-weight: 600;\n            padding: 10px 10px;\n            background: $boxTopColor;\n\n            a {\n                color: $themeColor;\n            }\n\n            em {\n                color: #ccc;\n            }\n\n            span {\n                color: #495060;\n            }\n        }\n\n        .msg-list {\n            position: relative;\n            background: #fff;\n            padding: 10px;\n\n            .msg-loading {\n                position: absolute;\n                top: 10px;\n                left: 10px;\n                right: 10px;\n                height: 20px;\n                background: #f7f7f7;\n            }\n\n            li {\n                padding: 10px 0;\n\n                &:not(:nth-last-child(1)) {\n                    border-bottom: 1px solid #f6f6f6;\n                }\n\n                > div {\n                    overflow: hidden;\n                    white-space: nowrap;\n                    text-overflow: ellipsis;\n                }\n            }\n        }\n\n        .past-times {\n            margin-top: 15px;\n            box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n        }\n    }\n    }\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./messages.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./messages.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./messages.vue?vue&type=template&id=137da0d2&scoped=true&\"\nimport script from \"./messages.vue?vue&type=script&lang=js&\"\nexport * from \"./messages.vue?vue&type=script&lang=js&\"\nimport style0 from \"./messages.vue?vue&type=style&index=0&id=137da0d2&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"137da0d2\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./msg.vue?vue&type=style&index=0&id=ef8d1076&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./msg.vue?vue&type=style&index=0&id=ef8d1076&scoped=true&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./messages.vue?vue&type=style&index=0&id=137da0d2&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./messages.vue?vue&type=style&index=0&id=137da0d2&scoped=true&lang=scss&\""],"sourceRoot":""}